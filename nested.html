<script src="./ui.js"></script>
<script src="./dist/nested.js"></script>
<div id="nested"></div>
<script>
	const { nested } = UI;
	
	let e = document.getElementById("nested");
	let d = {
        width: 100,
        height: 100,
        background: '#000',
        child: {
            height: 50,
            width: 50,
            background: '#fa0',
        },
    };

	window.data = nested(e, d);

    class Mover {
        x = 0;
        y = 0;
        d = 0.1;
        start() {
            data.pos = { x: this.x, y: this.y };
            this.x += this.d;
            this.y += this.d;
            if(this.x > 80 || this.x <= 0) {
                this.d = -this.d
            }
            data.commit();
            this.timeout = setTimeout(() => this.start(), 2);
        }
        stop() {
            clearTimeout(this.timeout);
        }
    }

    window.m = new Mover();
    window.m.start();
</script>